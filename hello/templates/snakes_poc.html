<html>
<head>
	<title>Snake Alert - POC</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<style>
		/* Snake Alert specific css */
	</style>
</head>
<body>
	<div class="container">
		<p>Useful if you spot a snake in your neighbourhood </p>
		<hr>
		<button id="alert-location">Alert your location to the Snake Rescuers.</button>

		<div>
			<label>User Location</label>
			<div id="user-location-div"></div>
		</div>
	</div>
	<script type="text/javascript">

		/***** Global Variables *****/

		var USER_LOCATION;

		/***** UI Controls *****/

		var userLocationDiv = $("user-location-div");

		/***** Event Handlers *****/

		/* Handler for location alert button. Triggered whenever user clicks on the button. */
		$("#alert-location").click(function () {
			/* Call translation method to ensure other relevant fields are updated accordingly */
			updateUserLocation();
		});

		/***** Snake Alert Page specific functions *****/

		/* Update user's location */
		function updateUserLocation() {

			/* Get the user's location */
			getLocation();
		}

		/***** Generic Functions *****/

		/* Get the current location using HTML5 Geolocation */
		/* Reference: http://www.w3schools.com/html/html5_geolocation.asp */
		function getLocation() {
			if (navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(showPosition);
			} else {
				userLocationDiv.val("Geolocation is not supported by this browser.");
			}
		}

		/* Callback function to display the location */
		function showPosition(position) {
			userLocationDiv.val("Latitude: " + position.coords.latitude +
			"<br>Longitude: " + position.coords.longitude);
		}

	</script>
</body>
</html>
